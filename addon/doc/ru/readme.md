# StationPlaylist #

* Авторы: Christopher Duffley <nvda@chrisduffley.com> (прежде Joseph Lee <joseph.lee22590@gmail.com>, первоначально автор Geoff Shang и другие участники)

Этот пакет дополнения обеспечивает улучшения использования StationPlaylist Studio и других приложений StationPlaylist, а также предоставляет утилиты для управления Studio из любого места. Поддерживаемые приложения включают Studio, Remote Studio, Creator, Track Tool, VT Recorder и Streamer, а также кодеры SAM, SPL и AltaCast.

Для получения подробной информации о дополнении прочтите [руководство по дополнению][1].

ВАЖНЫЕ ПРИМЕЧАНИЯ:

* Для этого дополнения требуется StationPlaylist suite версии 6.0 или выше.
* Некоторые дополнительные функции будут отключены или ограничены, если NVDA запущена в защищённом режиме, например, на экране входа в систему.
* Для лучшего восприятия отключите режим приглушения звука.
* Начиная с 2018 , [журналы изменений для старых выпусков дополнения][2] можно будет найти на GitHub. В этом файле сведений о дополнении будут перечислены изменения, начиная с версии 26.01 (2026).
* Во время работы Studio вы можете сохранить, перезагрузить сохранённые настройки или сбросить настройки дополнения до значений по умолчанию, нажав Control+NVDA+C, Control+NVDA+R один раз или Control+NVDA+R три раза соответственно. Это также применимо к настройкам энкодера - вы можете сохранять и сбрасывать (не перезагружать) настройки энкодера, если используете энкодеры.
* Многие команды будут выводить речь, когда NVDA находится в режиме речи по требованию (NVDA 2024.1 и выше).
* При упоминании Studio подразумеваются как локальная (исходная) Studio, так и Удалённая Studio. Если что-то специфично для StationPlaylist Studio (оригинал), будет использоваться термин "локальная Studio".
* Установка Studio (локальной/исходной) и Удалённой Studio на одном компьютере не рекомендуется.

## Сочетания клавиш

Большинство из них будут работать только в Studio, если не указано иное. Если не указано иное, эти команды поддерживают режим речи по требованию.

* Alt+Shift+T в окне Studio: объявить прошедшее время воспроизводимой в данный момент дорожки, голосовой дорожки или корзины.
* Control+Alt+T (Пролистывание двумя пальцами вниз в сенсорном режиме SPL) в окне Studio: объявить оставшееся время для воспроизводимой в данный момент дорожки, голосовой дорожки или корзины.
* NVDA+Shift+F12 (пролистывание двумя пальцами вверх в сенсорном режиме SPL) из окна Studio: объявляет время вещания, например, за 5 минут до начала часа. При двойном нажатии этой команды будут объявлены минуты и секунды до начала часа.
* Alt+NVDA+1 (пролистывание двумя пальцами вправо в режиме SPL) из окна Studio: открывает категорию сигналов тревоги в диалоге конфигурации дополнения Studio (не поддерживает речь по требованию).
* Alt+NVDA+1 из редакторов списков воспроизведения Creator и Remote VT: объявляет запланированное время для загруженного списка воспроизведения.
* Alt+NVDA+2 из редакторов списков воспроизведения Creator и Remote VT: Объявляет общую продолжительность списка воспроизведения.
* Alt+NVDA+3 из окна Studio: Включает проводник корзины для изучения назначений корзины (не поддерживает речь по требованию).
* Alt+NVDA+3 из редакторов списков воспроизведения Creator и Remote VT: Объявляет, когда выбранная дорожка запланирована к воспроизведению.
* Alt+NVDA+4 из редакторов списков воспроизведения Creator и Remote VT: объявляет ротацию и категорию, связанную с загруженным списком воспроизведения.
* Control+NVDA+f из окна Studio: Открывает диалог поиска дорожки по исполнителю или названию песни. Нажмите NVDA+F3 для поиска вперёд, или NVDA+Shift+F3 для поиска назад (не поддерживается речь по требованию).
* Shift+NVDA+R в окне Studio (только локальная Studio): Пошаговые действия по настройке оповещений о сканировании библиотеки (гне поддерживает речь по требованию).
* Control+Shift+X из окна Studio: пошаговое изменение настроек брайлевского таймера (не поддерживает речь по требованию).
* Control+Alt+стрелка влево/вправо (при фокусе на дорожке в локальной и удалённой Studio, Creator, Remote VT и Track Tool): Переход к предыдущему/следующему столбцу дорожки (не поддерживает речь по требованию).
* Control+Alt+стрелка вверх/вниз (при фокусе на дорожке в локальной и удалённой Studio, Creator, Remote VT и Track Tool): Переход к предыдущей/следующей дорожке и объявление определённых столбцов (не поддерживает речь по требованию).
* От Control+NVDA+1 до 0 (при фокусе на дорожке в локальной и удалённой Studio, Creator (включая редактор списков воспроизведения), Remote VT и Track Tool): объявить содержимое столбца для указанного столбца (первые десять столбцов по умолчанию). Двойное нажатие этой команды отобразит информацию о столбце в окне режима обзора.
* Control+NVDA+- (при фокусе на дорожке в локальной и удалённой Studio, Creator, Remote VT и Track Tool): отображать данные для всех столбцов дорожки в окне режима обзора (не поддерживает речь по требованию).
* NVDA+V при фокусировке на дорожке (только для просмотрщика списков воспроизведения Studio): переключает объявление в столбце дорожки между порядком экрана и пользовательским порядком (не поддерживает речь по требованию).
* Alt+NVDA+C при фокусе на дорожке (Только для просмотрщика списков воспроизведения Studio): объявляет комментарии дорожки, если таковые имеются.
* Alt+NVDA+0 (Пролистать двумя пальцами влево в режиме SPL) из локальной и удалённой Studio, Creator, Remote VT, и Track Tool: Открывает диалог настроек дополнения Studio (не поддерживает речь по требованию).
* Alt+NVDA+P из окна Studio: открывает диалог профилей вещания Studio (не поддерживает речь по требованию).
* Alt+NVDA+F1: Открыть диалог приветствия (не поддерживает речь по требованию).

## Неназначенные команды

Следующие команды по умолчанию не назначены; если вы хотите их назначить, используйте диалог жестов ввода для добавления пользовательских команд. Для этого в окне Studio откройте меню NVDA, Параметры, затем жесты ввода. Разверните категорию StationPlaylist, затем найдите неназначенные команды в списке ниже и выберите "Добавить", затем введите жест, который вы хотите использовать.

Важно: некоторые из этих команд не будут работать, если NVDA работает в безопасном режиме, например, на экране входа в систему. Не все команды поддерживают речь по требованию и/или недоступны в Remote Studio.

* Переключение в локальную SPL Studio из любой программы (недоступно в безопасном режиме, не поддерживается речь по требованию).
* Уровень панели управления SPL (недоступен в безопасном режиме).
* Объявление состояния Studio, например, о воспроизведении дорожек из других программ (недоступно в безопасном режиме).
* Оповещение о состоянии подключения кодера из любой программы (недоступно в безопасном режиме).
* Уровень Помощника SPL из Studio.
* Объявить время, включая секунды, из Studio.
* Объявляет температуру.
* Объявлять название следующей дорожки, если она запланирована.
* Объявлять название проигрываемой в данный момент дорожки.
* Пометка текущей дорожки для начала анализа времени дорожки.
* Выполнение анализа времени дорожки.
* Делать снимки списка воспроизведения.
* Искать текст в определённых столбцах (не поддерживает речь по требованию).
* Искать дорожки с длительностью заданного диапазона с помощью функции поиска по времени (не поддерживает речь по требованию).
* Быстрое включение или отключение потоковой передачи метаданных (не поддерживает речь по требованию, недоступно в Удалённой Studio).

## Дополнительные команды при использовании кодеров

При использовании кодеров доступны следующие команды, а те, которые используются для переключения параметров поведения при подключении, таких как фокус на Studio, воспроизведение первой дорожки и переключение фонового наблюдения, могут быть назначены в диалоге жестов ввода в меню NVDA, Параметры, жесты ввода, в категории StationPlaylist. Эти команды не поддерживают речь по требованию.

* F9: подключить выбранный кодер.
* F10 (только кодер SAM): Отключить выбранный кодер.
* Control+F9: Подключить все кодеры.
* Control+F10 (только кодер SAM): Отключить все кодеры.
* Control+Shift+F11: Включает, будет ли NVDA переключаться на окно Studio для выбранного кодера, если он подключён.
* Shift+F11: включает, будет ли Studio воспроизводить первую выбранную дорожку, когда кодер подключен к потоковому серверу.
* Control+F11: включает фоновое наблюдение выбранного кодера.
* Control+F12: открывает диалог для выбора удалённого кодера (чтобы изменить метки и настройки кодера).
* Alt+NVDA+0 или F12: открывает диалог настроек кодера для настройки таких параметров, как метка кодера.

Кроме того, доступны команды просмотра столбцов, в том числе (поддержка речи по требованию):

* Control+NVDA+1: Положение кодера.
* Control+NVDA+2: метка кодера.
* Control+NVDA+3 от SAM Encoder: Формат кодера.
* Control+NVDA+3 из SPL и AltaCast Encoder: настройки кодера.
* Control+NVDA+4 из SAM Encoder: состояние подключения кодера.
* Control+NVDA+4 от SPL и AltaCast Encoder: скорость передачи или состояние соединения.
* Control+NVDA+5 от SAM Encoder: Описание состояния соединения.

## Уровень Помощника SPL

Набор команд этого уровня позволяет вам получать различные состояния в Studio, например, воспроизводится ли дорожка, общая продолжительность всех дорожек за час и так далее. В любом локальном или удаленном окне Studio нажмите команду уровня помощника SPL, затем нажмите одну из клавиш из списка ниже (одна или несколько команд являются эксклюзивными для средства просмотра списков воспроизведения). Вы также можете настроить NVDA для эмуляции команд других программ чтения с экрана.

Доступны следующие команды (большинство команд поддерживают речь по требованию, а некоторые команды недоступны в Remote Studio):

* A: Автоматизация.
* C (Shift+C в раскладке JAWS): Название воспроизводимой в данный момент дорожки.
* C (раскладка JAWS): Переключить проводник корзины (только для просмотрщика списков воспроизведения, не поддерживает речь по требованию).
* D (R в раскладке JAWS): Оставшаяся продолжительность списка воспроизведения (если отображается сообщение об ошибке, перейдите к просмотрщику списка воспроизведения и затем введите эту команду).
* Control+D (Studio 6.10 и выше, недоступно в Remote Studio): Клавиши управления включены/выключены.
* E (недоступно в Remote Studio): Состояние потоковой передачи метаданных.
* От Shift+1 до Shift+4, Shift+0 (недоступно в Remote Studio): Состояние отдельных URL-адресов потоковой передачи метаданных (0 — для кодера DSP).
* F: Найти дорожку (только для просмотрщика списков воспроизведения, не поддерживает речь по требованию).
* H (T в раскладке JAWS): Продолжительность музыки для текущего часового интервала.
* Shift+H (H в раскладке JAWS): Оставшаяся продолжительность дорожки для часового интервала.
* I (L в раскладке JAWS, недоступно в Remote Studio): Количество слушателей.
* K (недоступно в Remote Studio): Перейти к отмеченной дорожке (только для просмотра списков воспроизведения).
* Control+K (недоступно в Remote Studio): Установить текущую дорожку в качестве дорожки метки места (только для просмотра списков воспроизведения).
* L (Shift+L в раскладке JAWS): Линейный вход.
* M: Микрофон.
* N: Название следующей запланированной дорожки.
* O: час списка воспроизведения более/под.
* P: Состояние воспроизведения (играет или остановлено).
* Shift+P (недоступно в Remote Studio): Высота текущей дорожки.
* R (Shift+E в раскладке JAWS, недоступно в Remote Studio): Запись в файл включена/отключена.
* Shift+R (Alt+T в раскладке JAWS; недоступно в Удалённой Studio): Наблюдение сканирования библиотеки.
* S: Начало дорожки (по расписанию).
* Shift+S: Время до начала воспроизведения выбранной дорожки (дорожка начинается).
* T (числовая строка 0 (ноль) в раскладке JAWS; недоступно в Удалённой Studio): включение/выключение режима редактирования/вставки корзины.
* U (недоступно в Remote Studio): Время работы Studio.
* W: Погода и температура, если настроено.
* Y (недоступно в Remote Studio): состояние изменения списка воспроизведения.
* F8: Сделать снимки списка воспроизведения (количество дорожек, самая длинная дорожка и т. д.).
* Shift+F8: Запросить расшифровки списков воспроизведения в различных форматах.
* F9: Отметить текущую дорожку для начала анализа списка воспроизведения (только для просмотрщика списков воспроизведения).
* F10: Выполнить анализ времени дорожки (только для просмотрщика списков воспроизведения).
* F12: Переключение между текущим и предопределённым профилем.
* F1: Справка по уровню.

## Панель управления SPL

Панель управления SPL — это набор многоуровневых команд, которые можно использовать для управления SPL (локальной) Studio и/или Удалённой Studio в любом месте. Нажмите команду уровня панели управления SPL, и NVDA скажет: "Панель управления SPL" или "Удалённая панель управления SPL", если используется Удалённая Studio. Нажмите другую команду, чтобы управлять различными настройками Studio, такими как включение/выключение микрофона или воспроизведение следующей дорожки. Вы также можете настроить NVDA для входа в уровень помощника SPL (см. выше), нажав команду уровня панели управления SPL (режим сквозной передачи, включен по умолчанию).

Важно: команды уровня панели управления SPL отключены, если NVDA запущен в защищенном режиме.

Вне Studio доступны следующие команды панели управления SPL (некоторые команды поддерживают речь по требованию, а некоторые доступны только в локальной Studio):

* P: Воспроизвести следующую выбранную дорожку.
* U: Приостановить или возобновить воспроизведение.
* S: Остановить дорожку с затуханием.
* T: Мгновенная остановка.
* M: Включить микрофон.
* Shift+M: Выключить микрофон.
* N: Включить микрофон без нарастания.
* A: Включить автоматику.
* Shift+A: Отключить автоматику.
* L: Включить линейный вход.
* Shift+L: Отключить линейный вход.
* R: Оставшееся время для воспроизводимой в данный момент дорожки.
* Shift+R (недоступно в Удалённой Studio): Ход сканирования библиотеки.
* C: Название и продолжительность воспроизводимой в данный момент дорожки (поддерживается речь по требованию).
* Shift+C: Название и длительность предстоящей дорожки, если есть (поддерживается речь по требованию).
* E (недоступно в Удалённой Studio): Состояние подключения энкодера (поддерживается речь по требованию).
* I (недоступно в Удалённой Studio): Число слушателей (поддерживает речь по требованию).
* Q: Информация о состоянии студии, например, воспроизводится ли дорожка, включен ли микрофон и другие данные (поддерживается речь по требованию).
* Клавиши корзины (F1, Control+1, например; недоступно в Удалённой Studio): Воспроизвести назначенные корзины из любого места.
* H: Справка по уровню.

Изнутри Studio (локальной и удаленной Studio) команда уровня панели управления SPL по умолчанию вызывает уровень помощника SPL.

## Аварийные сигналы дорожки и микрофона

По умолчанию NVDA воспроизводит звуковой сигнал, если до конца дорожки (окончание) и/или вступления осталось пять секунд, а также если микрофон был активен в течение некоторого времени. Чтобы настроить звуковые сигналы дорожки и микрофона, нажмите Alt+NVDA+1, чтобы открыть настройки звуковых сигналов на экране настроек дополнения Studio. Вы также можете использовать этот экран для настройки того, будет ли слышен звуковой сигнал, сообщение или и то, и другое вместе при включении звуковых сигналов.

## Поисковик Дорожек

Если вы хотите быстро найти песню по исполнителю или по названию песни в списке композиций, нажмите Control+NVDA+F. Введите или выберите имя исполнителя или название песни. NVDA либо направит вас к нужной песне, если она будет найдена, либо выдаст сообщение об ошибке, если не удастся найти нужную песню. Чтобы найти ранее введенную песню или исполнителя, нажмите NVDA+F3 или NVDA+Shift+F3, чтобы перейти вперед или назад.

Примечание: Функция поиска дорожек чувствительна к регистру.

## Обозреватель корзин

В зависимости от версии и локального или удаленного доступа к Studio SPL Studio позволяет назначить для воспроизведения до 96 корзин. NVDA позволяет вам услышать, какая корзина или джингл назначена на эти команды.

Чтобы узнать назначения корзин в SPL Studio (локальной и удаленной Studio), нажмите Alt+NVDA+3. Нажав команду корзины один раз, вы узнаете, какой джингл назначен этой команде. Двойное нажатие команды корзины приведёт к воспроизведению джингла. Нажмите Alt+NVDA+3, чтобы выйти из обозревателя корзин. Дополнительную информацию о корзине см. в руководстве по дополнению.

## Анализ времени дорожки

Чтобы получить продолжительность воспроизведения выбранных дорожек, отметьте текущую дорожку для начала анализа времени дорожки (Помощник SPL, F9), затем нажмите помощник SPL, F10, когда достигнете конца выделения.

## Обозреватель Столбцов

Нажимая клавиши Control+NVDA+1 – 0, вы можете получить содержимое определённых столбцов. По умолчанию это первые десять столбцов для элемента дорожки (в Studio: исполнитель, название, продолжительность, вступление, завершение, категория, год, альбом, жанр, настроение). Для редактора списков воспроизведения в клиенте Creator и Remote VT данные столбцов зависят от порядка столбцов, как показано на экране. В Studio, основном списке дорожек Creator и инструменте отслеживания слоты столбцов предварительно заданы независимо от порядка столбцов на экране и могут быть настроены в диалоге настроек дополнения в категории обозревателя столбцов.

## Объявление столбца дорожки

Вы можете попросить NVDA объявлять столбцы дорожек, найденные в просмотрщике списков воспроизведения Studio, в том порядке, в котором они появляются на экране, или использовать собственный порядок и/или исключить определённые столбцы. Нажмите NVDA+V, чтобы переключить это поведение, сосредоточившись на дорожке в просмотрщике списков воспроизведения Studio. Чтобы настроить включение и порядок столбцов, на панели настроек объявления столбцов в настройках дополнения снимите флажок "Использовать порядок отображения на экране при объявлении столбцов дорожки", а затем настройте включенные столбцы и/или порядок столбцов.

## Снимки списков воспроизведения

Вы можете нажать помощника SPL, F8, сосредоточившись на списке воспроизведения в Studio, чтобы получить различную статистику о списке воспроизведения, включая количество дорожек в списке воспроизведения, самую длинную дорожку, лучших исполнителей и т. д. После назначения пользовательской команды для этой функции, двойное нажатие пользовательской команды приведёт к тому, что NVDA представит информацию о снимке списка воспроизведения в виде веб-страницы, чтобы вы могли использовать режим обзора для навигации (нажмите escape для закрытия).

## Расшифровка списков воспроизведения

Нажатие сочетания клавиш помощника SPL, Shift+F8, откроет диалог, позволяющий запросить расшифровки списка воспроизведения в различных форматах, в том числе в текстовом формате, таблице HTML или списке.

## Диалог настройки

В окне Studio вы можете нажать Alt+NVDA+0, чтобы открыть диалог настроек дополнения. Альтернативно, перейдите в меню настроек NVDA и выберите пункт настроек SPL Studio. Не все настройки доступны, если NVDA работает в безопасном режиме и при использовании Удалённой Studio.

## Диалог профилей вещания

Вы можете сохранить настройки для определённых шоу в профилях вещания. Этими профилями можно управлять с помощью диалога профилей широковещательной передачи SPL, доступ к которому можно получить, нажав Alt+NVDA+P в окне Studio.

## Сенсорный режим SPL

Если вы используете Studio на компьютере с сенсорным экраном и установленной NVDA, вы можете выполнять некоторые команды Studio с сенсорного экрана. Сначала коснитесь тремя пальцами, чтобы переключиться в режим SPL, затем используйте сенсорные команды, перечисленные выше, для выполнения команд.

## Версия 26.01

* Требуется NVDA 2025.3.2 или выше.
* Экран настроек дополнения теперь доступен при использовании Creator, Remote VT и Track Tool с разными настройками для каждого приложения.
* NVDA объявит метки для экранов приложения SPL, включая свойства дорожки, элементы управления критериями поиска в диалоге вставки дорожек (Studio, Creator, Remote VT) и в диалоге параметров Studio.
* В Studio (локальной и удалённой), Creator и Remote VT NVDA подаст звуковой сигнал после завершения поиска в диалоге вставки дорожек, когда NVDA настроена на воспроизведение звуковых сигналов для объявлений о состоянии в настройках дополнения SPL/категории общих.
* В Studio (локальной и удалённой) и Track Tool NVDA больше не будет объявлять содержимое свойств диалога (описание) в таких местах, как свойства дорожки и экран параметров Studio.
* В локальной Studio NVDA будет менее многословной при выполнении повторного сканирования библиотеки из диалога вставки дорожек (Control+Shift+R).
* В локальной Studio NVDA будет сообщать о количестве сканирований библиотеки независимо от настройки "звукового сигнала для объявлений о состоянии" в настройках дополнения.
* В Remote Studio при закрытии экрана параметров (Control+O) при активном обозревателе корзин больше не требуется повторно входить в обозреватель корзин для просмотра обновлённых назначений корзины.
* Решено несколько проблем при использовании диалога вставки дорожек в Remote Studio, включая сообщение NVDA "начать сканирование" при нажатии Control+Shift+R и подробный вывод состояния результатов поиска.
* В списке дорожек в Creator и Track Tool нажатие Alt+клавиши цифрового ряда для изменения порядка сортировки столбцов приведёт к тому, что NVDA объявит новый порядок сортировки на основе выбранного столбца. При выполнении этих команд в Creator будет задержка.
* В Creator, Remote VT и Track Tool содержимое строки состояния будет сообщаться при выполнении команды чтения строки состояния (NVDA+End/рабочий стол, NVDA+Shift+End/раскладка ноутбука). В частности, улучшена производительность объявления содержимого строки состояния в Creator.
* В Creator и Remote VT NVDA будет объявлять количество результатов поиска при поиске дорожек в диалоге вставки дорожек.
* В Creator и Remote VT NVDA больше не будет ничего делать или воспроизводить сигналы ошибок при сообщении информации списка воспроизведения из редактора списков воспроизведения, такой как час и день списка воспроизведения, расписание и ротация.

## Старые выпуски

Ознакомьтесь с [списком изменений][2] для получения информации о старых выпусках дополнения.

[1]: https://github.com/ChrisDuffley/stationPlaylist/blob/main/addonuserguide.md

[2]: https://github.com/ChrisDuffley/stationPlaylist/blob/main/changes.md
